<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>量化选股器</title>
    <!-- 字体引入 -->
    <link href="https://fonts.cdnfonts.com/css/maplemono-nf-cn" rel="stylesheet">
    
    <style>
        /* 基础样式 */
        body {
            margin: 0;
            padding: 0;
            font-family: 'MapleMono-NF-CN', sans-serif;
            background: radial-gradient(circle at center, #0a0a1f, #00001a);
            color: white;
            overflow: hidden;
            min-height: 100vh;
            position: relative;
        }
        
        /* 视觉特效容器 */
        #visual-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.5;
        }
        
        /* 菜单容器 */
        .menu-container {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
        }
        
        /* 菜单按钮 */
        .menu-toggle {
            width: 40px;
            height: 40px;
            background: rgba(5, 255, 161, 0.2);
            border: 1px solid #05ffa1;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .menu-toggle:hover {
            background: rgba(5, 255, 161, 0.3);
            transform: scale(1.1);
        }
        
        .menu-toggle.active {
            background: rgba(5, 255, 161, 0.4);
        }
        
        .menu-icon {
            width: 20px;
            height: 2px;
            background: white;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .menu-icon::before,
        .menu-icon::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 2px;
            background: white;
            transition: all 0.3s ease;
        }
        
        .menu-icon::before {
            top: -6px;
        }
        
        .menu-icon::after {
            top: 6px;
        }
        
        .menu-toggle.active .menu-icon {
            background: transparent;
        }
        
        .menu-toggle.active .menu-icon::before {
            transform: rotate(45deg);
            top: 0;
        }
        
        .menu-toggle.active .menu-icon::after {
            transform: rotate(-45deg);
            top: 0;
        }
        
        /* 折叠菜单 */
        .collapsible-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: rgba(10, 10, 31, 0.9);
            border: 1px solid #05ffa1;
            border-radius: 10px;
            padding: 10px 0;
            margin-top: 10px;
            min-width: 150px;
            opacity: 0;
            visibility: hidden;
            transform: translateX(-10px);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .collapsible-menu.expanded {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
        }
        
        .menu-item {
            padding: 12px 20px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .menu-item:hover {
            background: rgba(5, 255, 161, 0.2);
            color: #05ffa1;
        }
        
        /* 标题容器 */
        .title-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 1;
            transition: all 0.5s ease;
        }
        
        .title-container.title-hidden {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.9);
        }
        
        h1 {
            font-size: 48px;
            margin: 0 0 20px 0;
            background: linear-gradient(90deg, #05ffa1, #00f0ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(5, 255, 161, 0.3);
        }
        
        /* 开始按钮 */
        .start-btn {
            background: linear-gradient(90deg, #05ffa1, #00f0ff);
            border: none;
            padding: 15px 40px;
            font-size: 20px;
            color: #0a0a1f;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(5, 255, 161, 0.5);
        }
        
        .start-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(5, 255, 161, 0.8);
        }
        
        .start-btn:active {
            transform: scale(0.95);
        }
        
        .start-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        /* 结果容器 */
        .results-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 1;
            background: rgba(10, 10, 31, 0.8);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(5, 255, 161, 0.3);
            display: none;
        }
        
        /* 结果表格 */
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .results-table th,
        .results-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .results-table th {
            background: rgba(5, 255, 161, 0.1);
            color: #05ffa1;
        }
        
        .results-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        
        /* 评分颜色 */
        .score-high {
            color: #05ffa1;
        }
        
        .score-medium {
            color: #ffcc00;
        }
        
        .score-low {
            color: #ff4d4d;
        }
        
        /* 重新开始按钮 */
        .restart-btn {
            background: rgba(5, 255, 161, 0.2);
            border: 1px solid #05ffa1;
            padding: 10px 30px;
            font-size: 16px;
            color: white;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }
        
        .restart-btn:hover {
            background: rgba(5, 255, 161, 0.3);
            transform: translateY(-2px);
        }
        
        /* 加载状态 */
        .loading {
            display: none;
            margin-top: 20px;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top-color: #05ffa1;
            animation: spin 1s ease-in-out infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* 模态框样式 */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        
        .modal:not(.hidden) {
            opacity: 1;
            visibility: visible;
        }
        
        .modal.hidden {
            display: none;
        }
        
        .modal-content {
            background: rgba(10, 10, 31, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid #05ffa1;
            border-radius: 15px;
            padding: 30px;
            max-width: 800px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 0 30px rgba(5, 255, 161, 0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .modal-header h2 {
            margin: 0;
            font-size: 24px;
            color: white;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: white;
            cursor: pointer;
            transition: color 0.3s ease;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-close:hover {
            color: #05ffa1;
        }
        
        .modal-body h3 {
            font-size: 20px;
            margin-top: 30px;
            margin-bottom: 15px;
            color: #00f0ff;
        }
        
        .modal-body h3:first-child {
            margin-top: 0;
        }
        
        .modal-body p {
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        /* 技术指标字体设置 */
        .tech-indicator {
            font-family: 'Arial', sans-serif;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- 视觉特效画布 -->
    <canvas id="visual-canvas"></canvas>
    
    <!-- 菜单容器 -->
    <div class="menu-container">
        <div class="menu-toggle" id="menu-toggle">
            <span class="menu-icon"></span>
        </div>
        <div class="collapsible-menu" id="collapsible-menu">
            <div class="menu-item">免费福利</div>
            <div class="menu-item">皓月</div>
            <div class="menu-item">量化指标</div>
            <div class="menu-item">联合机构</div>
            <div class="menu-item">声明</div>
        </div>
    </div>
    
    <!-- 标题容器 -->
    <div class="title-container">
        <h1>量化选股器</h1>
        <button class="start-btn" id="start-btn">开始选股</button>
    </div>
    
    <!-- 结果展示区域 -->
    <div class="results-container" id="results-container">
        <h2 class="results-header">选股结果</h2>
        <div id="results-content"></div>
        <button class="restart-btn" id="restart-btn">重新选股</button>
        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
        </div>
    </div>
    
    <script>
        // 初始化视觉特效
        function initVisualEffects() {
            const canvas = document.getElementById('visual-canvas');
            const ctx = canvas.getContext('2d');
            
            // 设置canvas大小
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            
            // 创建粒子
            const particles = [];
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 3 + 1,
                    speedX: (Math.random() - 0.5) * 0.5,
                    speedY: (Math.random() - 0.5) * 0.5,
                    color: `rgba(${Math.floor(Math.random() * 5 + 5)}, ${Math.floor(Math.random() * 255 + 0)}, ${Math.floor(Math.random() * 255 + 161)}, ${Math.random() * 0.8 + 0.2})`
                });
            }
            
            // 创建网格线
            const gridSize = 40;
            const gridLines = [];
            
            // 绘制动画
            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // 绘制背景渐变
                const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                gradient.addColorStop(0, 'rgba(10, 10, 31, 0.8)');
                gradient.addColorStop(1, 'rgba(0, 0, 26, 0.8)');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // 绘制网格线
                ctx.strokeStyle = 'rgba(5, 255, 161, 0.1)';
                ctx.lineWidth = 1;
                
                // 垂直线
                for (let x = 0; x < canvas.width; x += gridSize) {
                    ctx.beginPath();
                    ctx.moveTo(x, 0);
                    ctx.lineTo(x, canvas.height);
                    ctx.stroke();
                }
                
                // 水平线
                for (let y = 0; y < canvas.height; y += gridSize) {
                    ctx.beginPath();
                    ctx.moveTo(0, y);
                    ctx.lineTo(canvas.width, y);
                    ctx.stroke();
                }
                
                // 绘制粒子
                particles.forEach(particle => {
                    ctx.beginPath();
                    ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                    ctx.fillStyle = particle.color;
                    ctx.fill();
                    
                    // 更新粒子位置
                    particle.x += particle.speedX;
                    particle.y += particle.speedY;
                    
                    // 边界检查
                    if (particle.x < 0 || particle.x > canvas.width) particle.speedX *= -1;
                    if (particle.y < 0 || particle.y > canvas.height) particle.speedY *= -1;
                });
                
                // 绘制粒子连接线
                connectParticles();
                
                requestAnimationFrame(draw);
            }
            
            // 连接接近的粒子
            function connectParticles() {
                const maxDistance = 100;
                
                for (let i = 0; i < particles.length; i++) {
                    for (let j = i + 1; j < particles.length; j++) {
                        const dx = particles[i].x - particles[j].x;
                        const dy = particles[i].y - particles[j].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance < maxDistance) {
                            ctx.beginPath();
                            ctx.strokeStyle = `rgba(5, 255, 161, ${0.8 - distance / maxDistance})`;
                            ctx.lineWidth = 0.5;
                            ctx.moveTo(particles[i].x, particles[i].y);
                            ctx.lineTo(particles[j].x, particles[j].y);
                            ctx.stroke();
                        }
                    }
                }
            }
            
            // 启动动画
            draw();
        }
        
        // 初始化音频上下文
        let audioContext;
        
        function initAudio() {
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                return true;
            } catch (error) {
                console.log('Web Audio API is not supported in this browser.');
                return false;
            }
        }
        
        // 播放音效
        function playSound() {
            if (!audioContext) {
                if (!initAudio()) return;
            }
            
            // 恢复音频上下文（处理浏览器的自动播放策略）
            audioContext.resume().then(() => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(400, audioContext.currentTime + 0.3);
                
                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.1, audioContext.currentTime + 0.05);
                gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + 0.3);
                
                oscillator.type = 'sine';
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.3);
            });
        }
        
        // 自动启用音效
        document.addEventListener('click', function enableAudioOnClick() {
            if (!audioContext) {
                initAudio();
            } else if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            
            // 只监听一次点击
            document.removeEventListener('click', enableAudioOnClick);
        });
        
        // 增强版选股函数
        function startSelection() {
            // 播放音效
            playSound();
            
            // 添加按钮动画
            const startBtn = document.getElementById('start-btn');
            startBtn.disabled = true;
            startBtn.style.opacity = '0.5';
            startBtn.style.transform = 'scale(0.95)';
            
            // 显示加载状态
            const titleContainer = document.querySelector('.title-container');
            const resultsContainer = document.getElementById('results-container');
            const loading = document.getElementById('loading');
            
            titleContainer.style.opacity = '0';
            
            setTimeout(() => {
                titleContainer.style.display = 'none';
                resultsContainer.style.display = 'block';
                loading.style.display = 'block';
                
                // 模拟选股过程
                setTimeout(() => {
                    // 隐藏加载状态
                    loading.style.display = 'none';
                    
                    // 生成模拟选股结果
                    generateResults();
                    
                    // 播放选股完成音效
                    setTimeout(() => {
                        playSound();
                    }, 300);
                }, 2000);
            }, 500);
        }
        
        // 生成选股结果
        function generateResults() {
            const resultsContent = document.getElementById('results-content');
            
            // 模拟股票数据
            const stocks = [
                { code: '600000', name: '浦发银行', score: 85, industry: '银行', price: '8.25', change: '+1.2%' },
                { code: '000001', name: '平安银行', score: 78, industry: '银行', price: '12.68', change: '+0.8%' },
                { code: '600519', name: '贵州茅台', score: 92, industry: '酿酒', price: '1680.00', change: '+2.1%' },
                { code: '000858', name: '五粮液', score: 88, industry: '酿酒', price: '186.50', change: '+1.5%' },
                { code: '300750', name: '宁德时代', score: 90, industry: '新能源', price: '485.00', change: '+3.2%' }
            ];
            
            // 创建结果表格
            let tableHTML = `
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>股票代码</th>
                            <th>股票名称</th>
                            <th>行业</th>
                            <th>评分</th>
                            <th>现价</th>
                            <th>涨跌幅</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            // 添加表格行
            stocks.forEach(stock => {
                // 根据评分设置颜色类
                let scoreClass = 'score-medium';
                if (stock.score >= 90) {
                    scoreClass = 'score-high';
                } else if (stock.score <= 70) {
                    scoreClass = 'score-low';
                }
                
                tableHTML += `
                    <tr>
                        <td>${stock.code}</td>
                        <td>${stock.name}</td>
                        <td>${stock.industry}</td>
                        <td class="${scoreClass}">${stock.score}</td>
                        <td>${stock.price}</td>
                        <td>${stock.change}</td>
                    </tr>
                `;
            });
            
            tableHTML += `
                    </tbody>
                </table>
            `;
            
            // 更新结果内容
            resultsContent.innerHTML = tableHTML;
        }
        
        // 重新选股
        function restartSelection() {
            const resultsContainer = document.getElementById('results-container');
            const titleContainer = document.querySelector('.title-container');
            const startBtn = document.getElementById('start-btn');
            
            resultsContainer.style.display = 'none';
            titleContainer.style.display = 'block';
            
            setTimeout(() => {
                titleContainer.style.opacity = '1';
                startBtn.disabled = false;
                startBtn.style.opacity = '1';
                startBtn.style.transform = 'scale(1)';
            }, 100);
        }
        
        // 初始化菜单
        function initMenu() {
            const menuToggle = document.getElementById('menu-toggle');
            const collapsibleMenu = document.getElementById('collapsible-menu');
            
            menuToggle.addEventListener('click', function() {
                this.classList.toggle('active');
                collapsibleMenu.classList.toggle('expanded');
            });
        }
        
        // 创建菜单模态框
        function createMenuModals() {
            // 免费福利模态框
            const freeBenefitsModal = document.createElement('div');
            freeBenefitsModal.id = 'free-benefits-modal';
            freeBenefitsModal.className = 'modal hidden';
            freeBenefitsModal.innerHTML = `
                <div class="modal-content bg-white/10 backdrop-blur-md p-6 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto">
                    <div class="modal-header flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold text-white">免费福利</h2>
                        <button class="modal-close text-white hover:text-gray-300 text-xl">×</button>
                    </div>
                    <div class="modal-body text-white">
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">服务定位</h3>
                            <p class="mb-3">「免费福利」模块是为新用户提供的基础选股工具包，包含市场热门因子的基础筛选功能，帮助用户快速了解量化选股的核心逻辑。</p>
                        </div>
                        
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">群内配套福利</h3>
                            <div class="space-y-4">
                                <div class="bg-white/5 p-4 rounded-lg">
                                    <h4 class="font-semibold text-[#05ffa1] mb-2">免费量化工具包</h4>
                                    <p>群内定期更新「基础选股组合（每周 1 次）」「7 日行情可视化报告」</p>
                                </div>
                                <div class="bg-white/5 p-4 rounded-lg">
                                    <h4 class="font-semibold text-[#05ffa1] mb-2">投资策略会资源</h4>
                                    <p>同步《第十届财富论坛》直播回放、嘉宾分享的 "量化选股实战案例"</p>
                                </div>
                                <div class="bg-white/5 p-4 rounded-lg">
                                    <h4 class="font-semibold text-[#05ffa1] mb-2">新人专属学习包</h4>
                                    <p>群内领取「量化入门图文课」「零代码策略模板（如北向资金加仓筛选）」</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(freeBenefitsModal);

            // 皓月模态框
            const moonlightModal = document.createElement('div');
            moonlightModal.id = 'moonlight-modal';
            moonlightModal.className = 'modal hidden';
            moonlightModal.innerHTML = `
                <div class="modal-content bg-white/10 backdrop-blur-md p-6 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto">
                    <div class="modal-header flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold text-white">皓月</h2>
                        <button class="modal-close text-white hover:text-gray-300 text-xl">×</button>
                    </div>
                    <div class="modal-body text-white">
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">服务定位</h3>
                            <p class="mb-3">皓月 3.0」的高端隐藏模块，是日斗投资、主观量化等联合机构共同打造的 "进阶工具包"，不对外公开功能详情，仅面向飞书群用户开放体验资格。</p>
                        </div>
                        
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">群内体验权益</h3>
                            <div class="space-y-4">
                                <div class="bg-white/5 p-4 rounded-lg">
                                    <h4 class="font-semibold text-[#05ffa1] mb-2">每周 1 次「皓月专属策略推送」</h4>
                                    <p>由专业团队提供的 "中高级选股策略"（如行业轮动、事件驱动策略），仅群内用户可查看策略逻辑与标的。</p>
                                </div>
                                <div class="bg-white/5 p-4 rounded-lg">
                                    <h4 class="font-semibold text-[#05ffa1] mb-2">每月 2 次「机构级数据体验」</h4>
                                    <p>开放专业团队的 "全量研报、机构持仓明细、行业高频数据"（数据维度是基础功能的 3 倍），仅支持在群内查看，不可下载。</p>
                                </div>
                                <div class="bg-white/5 p-4 rounded-lg">
                                    <h4 class="font-semibold text-[#05ffa1] mb-2">专属顾问对接</h4>
                                    <p>体验期间可预约专业团队的量化顾问，1 对 1 解答 "策略优化、因子调整" 疑问。</p>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 30px;">
                            <h3 style="color: #667eea; margin-bottom: 15px;">皓月AI核心优势</h3>
                            <p style="margin-bottom: 15px;">「皓月」以任务级分时共享为核心理念，调度系统秒级响应，让每个研究人员都能拥有顺畅的训练体验。同时，平台配备强大的软件层支持：高性能算子库（hfai.nn）、分布式训练通讯框架（hfreduce）、专为AI开发而生的大容量高带宽文件系统（3FS），让AI模型能自如扩展到多节点之上，进行大规模并行训练，体验极致性能。</p>
                        </div>
                        
                        <div style="margin-bottom: 30px;">
                            <h3 style="color: #667eea; margin-bottom: 15px;">技术指标</h3>
                            <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 15px;">
                                <div style="text-align: center; background: rgba(15, 23, 42, 0.8); border-radius: 8px; padding: 20px; min-width: 120px;">
                                    <div style="font-size: 36px; font-weight: bold; color: #667eea;" class="tech-indicator">96%</div>
                                    <div style="color: #94a3b8;">集群使用率</div>
                                </div>
                                <div style="text-align: center; background: rgba(15, 23, 42, 0.8); border-radius: 8px; padding: 20px; min-width: 120px;">
                                    <div style="font-size: 36px; font-weight: bold; color: #667eea;" class="tech-indicator">85%</div>
                                    <div style="color: #94a3b8;">GPU使用率</div>
                                </div>
                                <div style="text-align: center; background: rgba(15, 23, 42, 0.8); border-radius: 8px; padding: 20px; min-width: 120px;">
                                    <div style="font-size: 28px; font-weight: bold; color: #667eea;" class="tech-indicator">8.0 TB/s</div>
                                    <div style="color: #94a3b8;">读取带宽</div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h3 style="color: #667eea; margin-bottom: 15px;">皓月模型特点</h3>
                            <ul style="list-style-type: none; padding-left: 0;">
                                <li style="margin-bottom: 10px; padding-left: 20px; position: relative;">
                                    <span style="position: absolute; left: 0; color: #667eea;">•</span>
                                    多因子分析：综合考虑基本面、技术面、市场情绪等多个维度
                                </li>
                                <li style="margin-bottom: 10px; padding-left: 20px; position: relative;">
                                    <span style="position: absolute; left: 0; color: #667eea;">•</span>
                                    市场情绪识别：通过NLP技术分析市场热点和情绪变化
                                </li>
                                <li style="margin-bottom: 10px; padding-left: 20px; position: relative;">
                                    <span style="position: absolute; left: 0; color: #667eea;">•</span>
                                    趋势预测：基于深度学习算法预测股价短期和中期趋势
                                </li>
                                <li style="margin-bottom: 10px; padding-left: 20px; position: relative;">
                                    <span style="position: absolute; left: 0; color: #667eea;">•</span>
                                    风险评估：实时监测市场风险，提供风险预警和控制建议
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(moonlightModal);

            // 量化指标模态框
            const quantIndicatorsModal = document.createElement('div');
            quantIndicatorsModal.id = 'quant-indicators-modal';
            quantIndicatorsModal.className = 'modal hidden';
            quantIndicatorsModal.innerHTML = `
                <div class="modal-content bg-white/10 backdrop-blur-md p-6 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto">
                    <div class="modal-header flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold text-white">量化指标</h2>
                        <button class="modal-close text-white hover:text-gray-300 text-xl">×</button>
                    </div>
                    <div class="modal-body text-white">
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">指标体系</h3>
                            <p class="mb-3">「核心因子分类」：基础因子（PE、PB、营收增速等）沿用行业标准，特色因子（如 "高频量价因子""AI 情绪因子"）源自专业技术体系，"价值因子" 参考成熟的价值投资逻辑。</p>
                            <p class="mb-3">「因子计算逻辑」：以 "多因子模型" 为例，公开各因子权重（如 "高频量价因子占比 25%""成长因子占比 30%"），数据标准化方式采用专业标准。</p>
                        </div>
                        
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">模型透明度</h3>
                            <p>公开「专业团队共同认证的回测报告」，展示近 3 年 "选股组合 vs 沪深 300 指数" 的超额收益曲线，回测数据由专业团队验证，确保真实性。</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">工具辅助</h3>
                            <p>提供「指标自定义计算器」，输入个股代码可查看「个股在各因子的得分、行业排名」，排名数据源自联合机构共享的 "全市场因子数据库"。</p>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(quantIndicatorsModal);

            // 联合机构模态框
            const partnerInstitutionsModal = document.createElement('div');
            partnerInstitutionsModal.id = 'partner-institutions-modal';
            partnerInstitutionsModal.className = 'modal hidden';
            partnerInstitutionsModal.innerHTML = `
                <div class="modal-content bg-white/10 backdrop-blur-md p-6 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto">
                    <div class="modal-header flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold text-white">联合机构</h2>
                        <button class="modal-close text-white hover:text-gray-300 text-xl">×</button>
                    </div>
                    <div class="modal-body text-white">
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">合作机构名单及价值</h3>
                            <div class="space-y-4">
                                <div class="bg-white/5 p-4 rounded-lg">
                                    <h4 class="font-semibold text-[#05ffa1] mb-1">日斗投资</h4>
                                    <p>资源整合方，牵头《第十届财富论坛投资策略会》，负责飞书群运营与福利落地，提供 "策略会直播、嘉宾资源"。</p>
                                </div>
                                <div class="bg-white/5 p-4 rounded-lg">
                                    <h4 class="font-semibold text-[#05ffa1] mb-1">聚财众发</h4>
                                    <p>数据合作方，提供 "机构持仓明细、行业高频数据"，支撑 "皓月" 模块的进阶数据需求。</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">合作形式</h3>
                            <ul class="list-disc list-inside space-y-2 pl-4">
                                <li>「技术合作」：与专业技术团队联合开发 "多因子模型""AI 情绪因子"</li>
                                <li>「资源合作」：与日斗投资联合运营飞书群，同步《财富论坛》资源；共享机构级数据</li>
                                <li>「策略共创」：与专业团队联合研发 "皓月" 模块的中高级策略</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">机构背书</h3>
                            <div class="space-y-4">
                                <div class="bg-white/5 p-4 rounded-lg italic">
                                    <p>日斗投资 CEO："《第十届财富论坛》的核心策略资源已同步至飞书群，结合'皓月'工具，能为用户提供'策略 + 工具'的一站式服务。"</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(partnerInstitutionsModal);

            // 声明模态框
            const statementModal = document.createElement('div');
            statementModal.id = 'statement-modal';
            statementModal.className = 'modal hidden';
            statementModal.innerHTML = `
                <div class="modal-content bg-white/10 backdrop-blur-md p-6 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto">
                    <div class="modal-header flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold text-white">声明</h2>
                        <button class="modal-close text-white hover:text-gray-300 text-xl">×</button>
                    </div>
                    <div class="modal-body text-white">
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">风险提示</h3>
                            <p class="mb-3">量化选股基于历史数据与专业模型算法，不构成投资建议；股市有风险，投资需谨慎；"皓月"模块的过往表现不代表未来收益，用户应结合自身风险承受能力决策；飞书群内分享的策略与数据仅作参考，不可作为实盘操作唯一依据。</p>
                        </div>
                        
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">版权说明</h3>
                            <p class="mb-3">"量化选股器"软件、数据（含专业团队提供的因子模型、行情数据）、图文内容，知识产权归我司及合作团队共同所有，未经授权禁止转载、商用；飞书群内资源（如直播回放、策略报告）仅限群内用户个人使用，禁止转发。</p>
                        </div>
                        
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">免责条款</h3>
                            <p>因不可抗力（如服务器故障、行情源异常）或数据更新延迟导致的选股偏差，我司及合作团队不承担赔偿责任；用户需理解量化工具的局限性，不可过度依赖。</p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold mb-3 text-[#00f0ff]">隐私政策</h3>
                            <p>严格保护用户个人信息，不向第三方泄露；如需使用用户数据优化模型，会提前通过飞书群征求用户同意。</p>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(statementModal);
        }

        // 初始化菜单模态框
        createMenuModals();
        
        // 添加加入群组按钮的样式
        const style = document.createElement('style');
        style.textContent = `
            .join-group-btn {
                margin: 10px 0;
                transition: all 0.3s ease;
                box-shadow: 0 0 15px rgba(5, 255, 161, 0.5);
            }
            .join-group-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 0 25px rgba(5, 255, 161, 0.8);
            }
            .results-header {
                font-size: 24px;
                font-weight: bold;
                color: #3498db;
                margin-bottom: 20px;
                text-align: center;
            }
        `;
        document.head.appendChild(style);

        // 菜单点击事件
        const menuItems = document.querySelectorAll('.menu-item');
        menuItems.forEach(function(item) {
            item.addEventListener('click', function() {
                // 关闭菜单
                const menuToggle = document.getElementById('menu-toggle');
                const collapsibleMenu = document.getElementById('collapsible-menu');
                menuToggle.classList.remove('active');
                collapsibleMenu.classList.remove('expanded');
                
                // 隐藏首页标题
                document.querySelector('.title-container').classList.add('title-hidden');
                
                // 根据菜单项显示对应的模态框
                const menuText = this.textContent.trim();
                console.log('Menu item clicked:', menuText);
                
                // 先隐藏所有模态框
                document.querySelectorAll('.modal').forEach(function(modal) {
                    modal.classList.add('hidden');
                    modal.style.display = 'none';
                });
                
                // 显示对应模态框
                switch (menuText) {
                    case '免费福利':
                        const freeBenefitsModal = document.getElementById('free-benefits-modal');
                        freeBenefitsModal.classList.remove('hidden');
                        freeBenefitsModal.style.display = 'flex';
                        break;

                    case '皓月':
                        const moonlightModal = document.getElementById('moonlight-modal');
                        moonlightModal.classList.remove('hidden');
                        moonlightModal.style.display = 'flex';
                        break;
                    case '量化指标':
                        const quantIndicatorsModal = document.getElementById('quant-indicators-modal');
                        quantIndicatorsModal.classList.remove('hidden');
                        quantIndicatorsModal.style.display = 'flex';
                        break;
                    case '联合机构':
                        const partnerInstitutionsModal = document.getElementById('partner-institutions-modal');
                        partnerInstitutionsModal.classList.remove('hidden');
                        partnerInstitutionsModal.style.display = 'flex';
                        break;
                    case '声明':
                        const statementModal = document.getElementById('statement-modal');
                        statementModal.classList.remove('hidden');
                        statementModal.style.display = 'flex';
                        break;
                }
            });
        });
        
        // 点击页面其他地方关闭菜单
        document.addEventListener('click', function(event) {
            const menuToggle = document.getElementById('menu-toggle');
            const collapsibleMenu = document.getElementById('collapsible-menu');
            if (!menuToggle.contains(event.target) && 
                !collapsibleMenu.contains(event.target) && 
                collapsibleMenu.classList.contains('expanded')) {
                menuToggle.classList.remove('active');
                collapsibleMenu.classList.remove('expanded');
            }
        });
        
        // 等待DOM加载完成后再添加模态框事件监听器
        setTimeout(function() {
            // 为所有模态框关闭按钮添加事件监听器
            document.querySelectorAll('.modal-close').forEach(function(closeBtn) {
                closeBtn.addEventListener('click', function() {
                    const modal = this.closest('.modal');
                    modal.classList.add('hidden');
                    modal.style.display = 'none';
                    
                    // 显示首页标题
                    document.querySelector('.title-container').classList.remove('title-hidden');
                });
            });
            
            // 点击模态框背景关闭模态框
            document.querySelectorAll('.modal').forEach(function(modal) {
                modal.addEventListener('click', function(event) {
                    if (event.target === this) {
                        this.classList.add('hidden');
                        this.style.display = 'none';
                        
                        // 显示首页标题
                        document.querySelector('.title-container').classList.remove('title-hidden');
                    }
                });
            });
        }, 100);
        
        // 测试函数：允许通过控制台直接测试声明模态框
        window.testStatementModal = function() {
            console.log('Testing statement modal...');
            const statementModal = document.getElementById('statement-modal');
            if (statementModal) {
                console.log('Statement modal found:', statementModal);
                
                // 先隐藏所有模态框
                document.querySelectorAll('.modal').forEach(function(modal) {
                    modal.classList.add('hidden');
                    modal.style.display = 'none';
                });
                
                // 隐藏首页标题
                document.querySelector('.title-container').classList.add('title-hidden');
                
                // 显示声明模态框
                statementModal.classList.remove('hidden');
                statementModal.style.display = 'flex';
                console.log('Statement modal should be visible now');
            } else {
                console.error('Statement modal not found!');
            }
        };
        
        // 初始化事件监听器
        document.addEventListener('DOMContentLoaded', function() {
            // 添加开始按钮事件
            const startBtn = document.getElementById('start-btn');
            startBtn.addEventListener('click', startSelection);
            
            // 添加重新开始按钮事件
            const restartBtn = document.getElementById('restart-btn');
            restartBtn.addEventListener('click', restartSelection);
            
            // 初始化菜单
            initMenu();
            
            // 初始化视觉特效系统
            initVisualEffects();
        });
    </script>
</body>
</html>